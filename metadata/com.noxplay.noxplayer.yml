AntiFeatures:
  NonFreeNet:
    en-US: Depends on bilibili.com
Categories:
  - Multimedia
  - Online Media Player
License: AGPL-3.0-only
AuthorName: lovegaoshi
WebSite: https://azusa-player-mobile.vercel.app/
SourceCode: https://github.com/lovegaoshi/azusa-player-mobile
IssueTracker: https://github.com/lovegaoshi/azusa-player-mobile/issues
Donate: https://github.com/lovegaoshi/azusa-player-mobile#捐助

AutoName: APM

RepoType: git
Repo: https://github.com/lovegaoshi/azusa-player-mobile.git

Builds:
  - versionName: 2.17.6
    versionCode: 23901
    commit: 9b82684fb7da7d094530f61501c16c8c6e6d0a56
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 2.17.6
    versionCode: 23902
    commit: 9b82684fb7da7d094530f61501c16c8c6e6d0a56
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x86"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 2.17.6
    versionCode: 23903
    commit: 9b82684fb7da7d094530f61501c16c8c6e6d0a56
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 2.17.6
    versionCode: 23904
    commit: 9b82684fb7da7d094530f61501c16c8c6e6d0a56
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 2.17.8
    versionCode: 24201
    commit: 7e4e5353d33ef82ab72da0687a5be31e29413fc7
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 2.17.8
    versionCode: 24202
    commit: 7e4e5353d33ef82ab72da0687a5be31e29413fc7
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x86"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 2.17.8
    versionCode: 24203
    commit: 7e4e5353d33ef82ab72da0687a5be31e29413fc7
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 2.17.8
    versionCode: 24204
    commit: 7e4e5353d33ef82ab72da0687a5be31e29413fc7
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 2.18.0
    versionCode: 24901
    commit: cdd80aadce76722c52456ac1edcaf2197b322e57
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 2.18.0
    versionCode: 24902
    commit: cdd80aadce76722c52456ac1edcaf2197b322e57
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x86"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 2.18.0
    versionCode: 24903
    commit: cdd80aadce76722c52456ac1edcaf2197b322e57
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 2.18.0
    versionCode: 24904
    commit: cdd80aadce76722c52456ac1edcaf2197b322e57
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 2.18.1
    versionCode: 25801
    commit: faf187c8d8fdfd8722ad9d8bff59ff1c1503bfee
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 2.18.1
    versionCode: 25802
    commit: faf187c8d8fdfd8722ad9d8bff59ff1c1503bfee
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x86"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 2.18.1
    versionCode: 25803
    commit: faf187c8d8fdfd8722ad9d8bff59ff1c1503bfee
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android arm64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 2.18.1
    versionCode: 25804
    commit: faf187c8d8fdfd8722ad9d8bff59ff1c1503bfee
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.3.6
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - pushd $$react-native-skia$$
      - yarn
      - build="yarn ts-node ./scripts/build-skia.ts android x64"
      - $build || $build || $build
      - popd
      - mv $$react-native-skia$$/package/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    ndk: 26.1.10909125
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.0.0
    versionCode: 28901
    commit: 7241086df92635220daf5a83d496872d74164d6f
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android arm
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.0.0
    versionCode: 28902
    commit: 7241086df92635220daf5a83d496872d74164d6f
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android x86
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.0.0
    versionCode: 28903
    commit: 7241086df92635220daf5a83d496872d74164d6f
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android arm64
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.0.0
    versionCode: 28904
    commit: 7241086df92635220daf5a83d496872d74164d6f
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android x64
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.0.1
    versionCode: 30001
    commit: a69bdf18995f746944d0ffe27531673202b35b55
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android arm
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.0.1
    versionCode: 30002
    commit: a69bdf18995f746944d0ffe27531673202b35b55
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android x86
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.0.1
    versionCode: 30003
    commit: a69bdf18995f746944d0ffe27531673202b35b55
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android arm64
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.0.1
    versionCode: 30004
    commit: a69bdf18995f746944d0ffe27531673202b35b55
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.5.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/installReferrerVersion/,+11d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/react-native-flipper/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts android x64
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.1.0
    versionCode: 35101
    commit: 90536f4f2620b4b3ec37e6ce51ebc666156a41ec
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.1.0
    versionCode: 35102
    commit: 90536f4f2620b4b3ec37e6ce51ebc666156a41ec
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.1.0
    versionCode: 35103
    commit: 90536f4f2620b4b3ec37e6ce51ebc666156a41ec
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.1.0
    versionCode: 35104
    commit: 90536f4f2620b4b3ec37e6ce51ebc666156a41ec
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*"@shopify/react-native-skia":\ "npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.2.4
    versionCode: 38601
    commit: 41e2557de47aa468cb813040fc9bf7597bd103ac
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.2.4
    versionCode: 38602
    commit: 41e2557de47aa468cb813040fc9bf7597bd103ac
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.2.4
    versionCode: 38603
    commit: 41e2557de47aa468cb813040fc9bf7597bd103ac
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.2.4
    versionCode: 38604
    commit: 41e2557de47aa468cb813040fc9bf7597bd103ac
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - node_modules
    build:
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.2.5
    versionCode: 39301
    commit: 34910eb8614d4a005914a8267ffab3fcf729b1c1
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm64-v8a --disable-x86 --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.2.5
    versionCode: 39302
    commit: 34910eb8614d4a005914a8267ffab3fcf729b1c1
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.2.5
    versionCode: 39303
    commit: 34910eb8614d4a005914a8267ffab3fcf729b1c1
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-x86 --disable-x86-64 --enable-android-media-codec
        --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.2.5
    versionCode: 39304
    commit: 34910eb8614d4a005914a8267ffab3fcf729b1c1
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/@react-native-async-storage/async-storage/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.2.6
    versionCode: 40601
    commit: 7e7635e431692125ea43c61c1b7d157a44d306b9
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm64-v8a --disable-x86 --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.2.6
    versionCode: 40602
    commit: 7e7635e431692125ea43c61c1b7d157a44d306b9
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.2.6
    versionCode: 40603
    commit: 7e7635e431692125ea43c61c1b7d157a44d306b9
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-x86 --disable-x86-64 --enable-android-media-codec
        --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.2.6
    versionCode: 40604
    commit: 7e7635e431692125ea43c61c1b7d157a44d306b9
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.2.7
    versionCode: 42701
    commit: 630e1f3d27ab4dc793e7c353780c7e30284cd9ae
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm64-v8a --disable-x86 --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.2.7
    versionCode: 42702
    commit: 630e1f3d27ab4dc793e7c353780c7e30284cd9ae
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.2.7
    versionCode: 42703
    commit: 630e1f3d27ab4dc793e7c353780c7e30284cd9ae
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-x86 --disable-x86-64 --enable-android-media-codec
        --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.2.7
    versionCode: 42704
    commit: 630e1f3d27ab4dc793e7c353780c7e30284cd9ae
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates @revenuecat/purchases-js react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/const getVIPStatus/,/^};/d' -e '/const purchaseVIP/,/^};/s/^  .*//g'
        -e '/Purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-vector-icons/android/build.gradle
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 3.3.2
    versionCode: 45601
    commit: 89bd84d588caa8f5825738e5ce0c73f825eb3ca4
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm64-v8a --disable-x86 --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 3.3.2
    versionCode: 45602
    commit: 89bd84d588caa8f5825738e5ce0c73f825eb3ca4
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 3.3.2
    versionCode: 45603
    commit: 89bd84d588caa8f5825738e5ce0c73f825eb3ca4
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-x86 --disable-x86-64 --enable-android-media-codec
        --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 3.3.2
    versionCode: 45604
    commit: 89bd84d588caa8f5825738e5ce0c73f825eb3ca4
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v1.6.0
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
    gradleprops:
      - reactNativeArchitectures=x86_64

  - versionName: 4.0.0
    versionCode: 47601
    commit: 0fb7335bb9f0457509158ddc061de2343d5c89fb
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v2.0.7
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - git -C $$react-native-skia$$ submodule update --init --recursive
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm64-v8a --disable-x86 --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - pushd ./externals/depot_tools
      - ./update_depot_tools
      - popd
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
      - cd ..
      - gradle generateCodegenArtifactsFromSchema --rerun-tasks
    gradleprops:
      - reactNativeArchitectures=armeabi-v7a

  - versionName: 4.0.0
    versionCode: 47602
    commit: 0fb7335bb9f0457509158ddc061de2343d5c89fb
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v2.0.7
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - git -C $$react-native-skia$$ submodule update --init --recursive
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x86";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86-64
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - pushd ./externals/depot_tools
      - ./update_depot_tools
      - popd
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
      - cd ..
      - gradle generateCodegenArtifactsFromSchema --rerun-tasks
    gradleprops:
      - reactNativeArchitectures=x86

  - versionName: 4.0.0
    versionCode: 47603
    commit: 0fb7335bb9f0457509158ddc061de2343d5c89fb
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v2.0.7
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - git -C $$react-native-skia$$ submodule update --init --recursive
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "arm64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-x86 --disable-x86-64 --enable-android-media-codec
        --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - pushd ./externals/depot_tools
      - ./update_depot_tools
      - popd
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
      - cd ..
      - gradle generateCodegenArtifactsFromSchema --rerun-tasks
    gradleprops:
      - reactNativeArchitectures=arm64-v8a

  - versionName: 4.0.0
    versionCode: 47604
    commit: 0fb7335bb9f0457509158ddc061de2343d5c89fb
    subdir: android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y npm ninja-build bzip2 xz-utils make automake pkg-config
        libtool nasm meson cmake
      - npm install -g corepack
    init:
      - corepack enable
      - yarn remove sp-react-native-in-app-updates react-native-purchases
      - yarn install
      - yarn postinstall
    gradle:
      - yes
    srclibs:
      - react-native-skia@v2.0.7
      - notifee@@notifee/react-native@9.1.8
      - ffmpeg-kit@v6.0.LTS
    rm:
      - ios
      - src/hooks/usePlayStore.ts
      - node_modules/@shopify/react-native-skia/libs/android
    prebuild:
      - sed -i -e '/signingConfigs/d' -e '/core-google-shortcuts/d' -e '/sentry/d'
        build.gradle
      - cd ../..
      - sed -i -e '1a "expo":{"autolinking":{"android":{"buildFromSource":[".*"]}}},'
        package.json
      - python3 ./scripts/fixHTTP.py
      - sed -i -e '/Version/d' -e '/PlayStore/d' src/hooks/useSetupPlayer.ts
      - sed -i -e '/^    if (APPSTORE) {/,/^    }/s/^      .*//g' -e '/^  if (APPSTORE)
        {/,/^  }/s/^    .*//g' -e '/react-native-purchases/d' src/hooks/useVIP.ts
      - sed -i -e '/installReferrerVersion/,+12d' node_modules/react-native-device-info/android/build.gradle
      - sed -i -e '/media3-exoplayer-ima/d' node_modules/react-native-video/android/build.gradle
      - sed -i -e '/installreferrer/d' node_modules/expo-application/android/build.gradle
      - sed -i -e '/com.android.installreferrer.api/d' -e '/StringBuilder()/,/^      })/d'
        -e '/getInstallReferrerAsync/apromise.resolve("")' node_modules/expo-application/android/src/main/java/expo/modules/application/ApplicationModule.kt
      - export skiaVersion=$(sed -n -E 's|.*resolution:\ "@shopify/react-native-skia@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $skiaVersion ]] || exit 1'
      - git -C $$react-native-skia$$ checkout -f "v$skiaVersion"
      - git -C $$react-native-skia$$ submodule update --init --recursive
      - sed -i -e 's/for (const key of mapKeys(configurations))/const key = "android";/'
        -e 's/for (const target of mapKeys(configuration.targets))/const target =
        "x64";/' -e 's/mapKeys,//' -e '/ban-ts-comment/,+1d' -e '/buildXCFrameworks()/d'
        -e '/buildXCFrameworks/,/^};/d' -e '/copyHeaders/d' $$react-native-skia$$/packages/skia/scripts/build-skia.ts
      - export notifeeVersion=$(sed -n -E 's|.*resolution:\ "@notifee/react-native@npm:(.*)"|\1|p'
        yarn.lock)
      - '[[ $notifeeVersion ]] || exit 1'
      - git -C $$notifee$$ checkout -f "@notifee/react-native@$notifeeVersion"
    scanignore:
      - android/build.gradle
      - node_modules/jsc-android
      - node_modules/react-native/sdks/hermesc/linux64-bin/hermesc
      - node_modules/react-native-svga-player/android/build.gradle
      - node_modules/@react-native-cookies/cookies/android/build.gradle
      - node_modules/expo-modules-core/android/ExpoModulesCorePlugin.gradle
      - node_modules/lottie-react-native/android/build.gradle
      - node_modules/react-native-track-player/android/build.gradle
      - node_modules/expo-modules-autolinking/scripts/android/autolinking_implementation.gradle
      - node_modules/react-native-video/android/build.gradle
      - node_modules/react-native-get-random-values/android/build.gradle
      - node_modules/react-native-device-info/android/build.gradle
      - node_modules/react-native-safe-area-context/android/build.gradle
      - node_modules/react-native-pager-view/android/build.gradle
      - node_modules/@react-native-community/netinfo/android/build.gradle
      - node_modules/react-native-image-colors/android/build.gradle
      - node_modules/react-native-webview/android/build.gradle
      - node_modules/ffmpeg-kit-react-native/android/build.gradle
      - node_modules/react-native-screens/android/build.gradle
      - node_modules/@react-native-masked-view/masked-view/android/build.gradle
      - node_modules/react-native-app-auth/android/build.gradle
      - node_modules/react-native-svg/android/build.gradle
      - node_modules/react-native-blob-util/android/build.gradle
      - node_modules/react-native-reanimated/android/build.gradle
      - node_modules/@notifee/react-native/android/build.gradle
      - node_modules/react-native-fast-base64/android/build.gradle
      - node_modules/react-native-edge-to-edge/android/build.gradle
    scandelete:
      - .vs
      - .yarn/install-state.gz
      - android/ffmpeg-kit-binaries
      - node_modules
    build:
      - sdkmanager 'ndk;25.1.8937393'
      - pushd $$ffmpeg-kit$$
      - ANDROID_SDK_ROOT=$$SDK$$ ANDROID_NDK_ROOT=$$SDK$$/ndk/25.1.8937393 ./android.sh
        --disable-arm-v7a-neon --disable-arm-v7a --disable-arm64-v8a --disable-x86
        --enable-android-media-codec --enable-android-zlib
      - popd
      - mv $$ffmpeg-kit$$/prebuilt/bundle-android-aar/ffmpeg-kit/ffmpeg-kit.aar ../ffmpeg-kit-binaries/ffmpeg-kit-audio-6.0-2.aar
      - ndkVersion=$(sed -n -E 's/.*ndkVersion = "(.*)"/\1/p' ../build.gradle)
      - pushd $$react-native-skia$$
      - yarn
      - pushd ./externals/depot_tools
      - ./update_depot_tools
      - popd
      - cd packages/skia
      - export ANDROID_NDK=$$SDK$$/ndk/$ndkVersion
      - yarn ts-node ./scripts/build-skia.ts
      - popd
      - mv $$react-native-skia$$/packages/skia/libs/android ../../node_modules/@shopify/react-native-skia/libs/android
      - pushd $$notifee$$/android
      - gradle publishAarPublicationToMavenRepository
      - popd
      - rm -rf ../../node_modules/@notifee/react-native/android/libs
      - mv $$notifee$$/packages/react-native/android/libs ../../node_modules/@notifee/react-native/android/
      - cd ..
      - gradle generateCodegenArtifactsFromSchema --rerun-tasks
    gradleprops:
      - reactNativeArchitectures=x86_64

MaintainerNotes: com/google/ads/interactivemedia/v3/api/AdEvent stubs are from react-native-video

AutoUpdateMode: Version
UpdateCheckMode: Tags ^v[\d.]+-fdroid$
VercodeOperation:
  - 100 * %c + 1
  - 100 * %c + 2
  - 100 * %c + 3
  - 100 * %c + 4
CurrentVersion: 4.0.0
CurrentVersionCode: 47604
